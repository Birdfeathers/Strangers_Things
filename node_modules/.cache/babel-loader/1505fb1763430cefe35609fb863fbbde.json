{"ast":null,"code":"import _objectSpread from\"/Users/rebeccacarr/Desktop/course_work/strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/rebeccacarr/Desktop/course_work/strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import ReactDOM from'react-dom';import{BrowserRouter as Router,Route,Link}from'react-router-dom';import Post from'./post.js';import Login from'./login.js';import CreatePost from'./createPost.js';import Search from'./search.js';import Me from'./me.js';import EditPost from'./edit.js';import{getUserName,getPosts}from'./apiCalls.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function findPost(posts,id){return posts.find(function(element){return element._id===id;});}var AlreadyIn=function AlreadyIn(_ref){var setToken=_ref.setToken;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"LogOut\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"You are logged in, would you like to log out?\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){setToken(\"\");localStorage.setItem(\"token\",\"\");},children:\"Log out\"})]});};var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),postsToDisplay=_useState8[0],setPostsToDisplay=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),username=_useState10[0],setUsername=_useState10[1];useEffect(function(){var t=localStorage.getItem(\"token\");if(t)setToken(t);getPosts(setPosts,t,setPostsToDisplay);if(t)getUserName(token||t,setUsername);},[token]);return/*#__PURE__*/_jsxs(Router,{children:[!!token?/*#__PURE__*/_jsxs(\"h1\",{className:\"greeting\",children:[\"Welcome \",username]}):/*#__PURE__*/_jsx(\"p\",{children:\"You are not signed in.\"}),/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-default gray-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[!!token?/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-default navbar-btn\",children:\"Home\"}),\" \"]}):null,/*#__PURE__*/_jsxs(Link,{to:\"/posts\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-default navbar-btn\",children:\"Posts\"}),\" \"]}),/*#__PURE__*/_jsxs(Link,{to:\"/login\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-default navbar-btn\",children:\"Login / Logout\"}),\" \"]}),/*#__PURE__*/_jsxs(Link,{to:\"/register\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-default navbar-btn\",children:\"Register\"}),\" \"]}),!!token?/*#__PURE__*/_jsxs(Link,{to:\"/newpost\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-default navbar-btn\",children:\"Make New Post\"}),\" \"]}):null]})}),/*#__PURE__*/_jsx(Route,{path:\"/posts\",render:function render(routeProps){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Posts\"})}),/*#__PURE__*/_jsx(Search,{setSearchTerm:setSearchTerm,searchTerm:searchTerm,setPostsToDisplay:setPostsToDisplay,posts:posts}),postsToDisplay.map(function(element,index){return/*#__PURE__*/_jsx(Post,_objectSpread({element:element,token:token,setPosts:setPosts,setPostsToDisplay:setPostsToDisplay,username:username},routeProps),index);})]});}}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:!!token?/*#__PURE__*/_jsx(AlreadyIn,{setToken:setToken}):/*#__PURE__*/_jsx(Login,{mode:\"login\",setToken:setToken})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",children:!!token?/*#__PURE__*/_jsx(AlreadyIn,{setToken:setToken}):/*#__PURE__*/_jsx(Login,{mode:\"register\",setToken:setToken})}),/*#__PURE__*/_jsx(Route,{path:\"/newpost\",render:function render(routeProps){return/*#__PURE__*/_jsx(CreatePost,_objectSpread(_objectSpread({token:token},routeProps),{},{setPosts:setPosts,setPostsToDisplay:setPostsToDisplay}));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(routeProps){return/*#__PURE__*/_jsx(Me,_objectSpread(_objectSpread({},routeProps),{},{token:token}));}}),/*#__PURE__*/_jsx(Route,{path:\"/edit/:postid\",render:function render(routeProps){return/*#__PURE__*/_jsx(EditPost,_objectSpread(_objectSpread({},routeProps),{},{token:token,setPosts:setPosts,setPostsToDisplay:setPostsToDisplay,posts:posts,findPost:findPost}));}})]});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('app'));","map":{"version":3,"sources":["/Users/rebeccacarr/Desktop/course_work/strangers_things/src/index.js"],"names":["React","useEffect","useState","ReactDOM","BrowserRouter","Router","Route","Link","Post","Login","CreatePost","Search","Me","EditPost","getUserName","getPosts","findPost","posts","id","find","element","_id","AlreadyIn","setToken","localStorage","setItem","App","setPosts","token","searchTerm","setSearchTerm","postsToDisplay","setPostsToDisplay","username","setUsername","t","getItem","routeProps","map","index","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport Post from './post.js';\nimport Login from './login.js';\nimport CreatePost from './createPost.js';\nimport Search from './search.js';\nimport Me from './me.js';\nimport EditPost from './edit.js';\nimport { getUserName, getPosts } from './apiCalls.js';\n\n\nfunction findPost(posts, id)\n{\n    return posts.find(element => element._id === id);\n}\n\nconst AlreadyIn = ({setToken}) =>{\n    return<div>\n        <div className = \"title\"><h1>LogOut</h1></div>\n        <p>You are logged in, would you like to log out?</p>\n        <button type = \"button\" onClick = {() => {\n            setToken(\"\");\n            localStorage.setItem(\"token\", \"\");}} >\n                Log out</button>\n    </div>\n}\n\n\n\n\nconst App = () => {\n    const [posts, setPosts] = useState([]);\n    const [token, setToken] = useState(\"\");\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [postsToDisplay, setPostsToDisplay] = useState([]);\n    const [username, setUsername] = useState(\"\");\n    useEffect(() => {\n        const t = localStorage.getItem(\"token\");\n        if(t) setToken(t);\n        getPosts(setPosts, t, setPostsToDisplay);\n        if(t)getUserName(token || t, setUsername);\n      \n    }, [token]);\n  return <Router >\n      {!!token ? <h1 className = \"greeting\" >Welcome {username}</h1> : <p>You are not signed in.</p>}\n      <nav className =\"navbar navbar-default gray-background\">\n         <div className=\"container\">\n            \n            { !!token ?<Link to = \"/\"> <button className = \"btn btn-default navbar-btn\">Home</button> </Link>: null}\n            <Link to = \"/posts\"> <button className = \"btn btn-default navbar-btn\" >Posts</button> </Link>\n            <Link to = \"/login\"> <button className = \"btn btn-default navbar-btn\">Login / Logout</button> </Link>\n            <Link to = \"/register\"> <button className = \"btn btn-default navbar-btn\">Register</button> </Link>\n            {!!token ? <Link to = \"/newpost\"> <button className = \"btn btn-default navbar-btn\">Make New Post</button> </Link>: null}\n            \n        </div>\n      </nav>\n      <Route path = \"/posts\" render = {  (routeProps) => <div>\n      <div className = \"title\"><h1>Posts</h1></div>\n        <Search setSearchTerm = {setSearchTerm} searchTerm = {searchTerm} setPostsToDisplay = {setPostsToDisplay} posts = {posts}/>\n        {postsToDisplay.map((element, index) => {\n            return<Post key = {index} element = {element} token = {token} setPosts = {setPosts} setPostsToDisplay = {setPostsToDisplay} username = {username} {...routeProps}/>})}\n      </div>}/>\n          \n      <Route path = \"/login\">\n         { !!token ? <AlreadyIn setToken = {setToken}/> : <Login mode = \"login\" setToken = {setToken} />}\n        </Route>\n      <Route path = \"/register\">\n          {!!token ? <AlreadyIn setToken = {setToken}/> : <Login mode = \"register\" setToken = {setToken}/>}\n        </Route>\n      <Route path = \"/newpost\" render = {(routeProps)=> \n        <CreatePost token = {token} {...routeProps} setPosts = {setPosts} setPostsToDisplay = {setPostsToDisplay}/>\n        }/>\n      <Route exact path = \"/\" render = {(routeProps) => <Me  {...routeProps} token = {token}/>}/>\n      <Route path = \"/edit/:postid\" render = {(routeProps) => <EditPost  {...routeProps} token = {token} setPosts = {setPosts} setPostsToDisplay = {setPostsToDisplay} posts = {posts} findPost = {findPost}/>}/>\n      \n  </Router>\n}\nReactDOM.render(\n  <App />,\n  document.getElementById('app'),\n);"]},"metadata":{},"sourceType":"module"}