{"ast":null,"code":"import _slicedToArray from\"/Users/rebeccacarr/Desktop/course_work/strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{getMyInfo}from'./apiCalls';import Post from'./post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewMessage=function ViewMessage(_ref){var message=_ref.message,id=_ref.id,token=_ref.token;var isMe=id===message.fromUser._id;console.log(message.post);if(isMe){return/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Post: \"}),message.post.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Content: \"}),message.content]})]});}else return null;};var Me=function Me(_ref2){var token=_ref2.token;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),myInfo=_useState2[0],setMyInfo=_useState2[1];useEffect(function(){if(token)getMyInfo(token,setMyInfo);},[token]);var data=myInfo.data;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Home\"})}),myInfo.data?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Posts:\"})}),myInfo.data.posts.map(function(element,index){return/*#__PURE__*/_jsx(Post,{element:element,token:token,me:true},index);}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Messages Sent: \"})}),myInfo.data.messages.map(function(element,index){return/*#__PURE__*/_jsx(ViewMessage,{className:\"post\",message:element,id:data._id,token:token},index);})]}):/*#__PURE__*/_jsx(\"p\",{children:\"You are not logged in.\"})]});};export default Me;","map":{"version":3,"sources":["/Users/rebeccacarr/Desktop/course_work/strangers_things/src/me.js"],"names":["React","useState","useEffect","getMyInfo","Post","ViewMessage","message","id","token","isMe","fromUser","_id","console","log","post","title","content","Me","myInfo","setMyInfo","data","posts","map","element","index","messages"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,SAAT,KAA0B,YAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,wFAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA0B,IAAxBC,CAAAA,OAAwB,MAAxBA,OAAwB,CAAfC,EAAe,MAAfA,EAAe,CAAXC,KAAW,MAAXA,KAAW,CAC1C,GAAMC,CAAAA,IAAI,CAAGF,EAAE,GAAKD,OAAO,CAACI,QAAR,CAAiBC,GAArC,CACAC,OAAO,CAACC,GAAR,CAAYP,OAAO,CAACQ,IAApB,EACA,GAAGL,IAAH,CAAQ,CACR,mBAAQ,aAAK,SAAS,CAAG,MAAjB,wBACJ,kCAAG,6BAAH,CAAiBH,OAAO,CAACQ,IAAR,CAAaC,KAA9B,GADI,cAEJ,kCAAG,gCAAH,CAAoBT,OAAO,CAACU,OAA5B,GAFI,GAAR,CAGQ,CAJR,IAKK,OAAO,KAAP,CACR,CATD,CAYA,GAAMC,CAAAA,EAAE,CAAG,QAALA,CAAAA,EAAK,OAAa,IAAVT,CAAAA,KAAU,OAAVA,KAAU,CACrB,cAA4BP,QAAQ,CAAC,EAAD,CAApC,wCAAOiB,MAAP,eAAeC,SAAf,eACAjB,SAAS,CAAC,UAAM,CACf,GAAGM,KAAH,CAASL,SAAS,CAACK,KAAD,CAAQW,SAAR,CAAT,CACT,CAFQ,CAEN,CAACX,KAAD,CAFM,CAAT,CAGA,GAAIY,CAAAA,IAAI,CAAGF,MAAM,CAACE,IAAlB,CACC,mBAAM,oCACF,YAAK,SAAS,CAAG,OAAjB,uBAAyB,4BAAzB,EADE,CAEDF,MAAM,CAACE,IAAP,cAAa,oCACV,gCAAG,6BAAH,EADU,CAETF,MAAM,CAACE,IAAP,CAAYC,KAAZ,CAAkBC,GAAlB,CAAsB,SAACC,OAAD,CAAUC,KAAV,CAAoB,CAC3C,mBAAM,KAAC,IAAD,EAAoB,OAAO,CAAID,OAA/B,CAAwC,KAAK,CAAIf,KAAjD,CAAwD,EAAE,CAAI,IAA9D,EAAagB,KAAb,CAAN,CAA4E,CAD3E,CAFS,cAIV,gCAAG,sCAAH,EAJU,CAKTN,MAAM,CAACE,IAAP,CAAYK,QAAZ,CAAqBH,GAArB,CAAyB,SAACC,OAAD,CAAUC,KAAV,CAAoB,CAC9C,mBAAM,KAAC,WAAD,EAAa,SAAS,CAAG,MAAzB,CAA8C,OAAO,CAAID,OAAzD,CAAkE,EAAE,CAAIH,IAAI,CAACT,GAA7E,CAAkF,KAAK,CAAIH,KAA3F,EAAuCgB,KAAvC,CAAN,CAA0G,CADzG,CALS,GAAb,cAOQ,6CATP,GAAN,CAWH,CAjBD,CAmBA,cAAeP,CAAAA,EAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { getMyInfo } from './apiCalls';\nimport Post from './post';\n\n\nconst ViewMessage = ({message, id, token}) => {\n    const isMe = id === message.fromUser._id;\n    console.log(message.post);\n    if(isMe){\n    return( <div className = \"post\">\n        <p><b>Post: </b>{message.post.title}</p>\n        <p><b>Content: </b>{message.content}</p>\n    </div>)}\n    else return null;\n}\n\n\nconst Me = ({ token}) =>{\n   const [myInfo, setMyInfo] = useState({});\n   useEffect(() => {\n    if(token)getMyInfo(token, setMyInfo)\n   }, [token])\n   let data = myInfo.data;\n    return<div>\n        <div className = \"title\"><h1>Home</h1></div>\n        {myInfo.data? <div>\n            <p><b>Posts:</b></p>\n            {myInfo.data.posts.map((element, index) => {\n            return<Post key = {index} element = {element} token = {token} me = {true}/>})}\n            <p><b>Messages Sent: </b></p>\n            {myInfo.data.messages.map((element, index) => {\n            return<ViewMessage className = \"post\" key = {index} message = {element} id = {data._id} token = {token}/>})}\n        </div> : <p>You are not logged in.</p>}\n    </div>\n}\n\nexport default Me;"]},"metadata":{},"sourceType":"module"}